<!-- @if(data) { -->
<!-- @if(data && data.categories; as categories) { -->
@if(data) {
<div class="query-result">
  @if(filtered) {
  <div class="message">
    <ng-container *ngIf="data && data.total > 0; else zero">
      <span>odnaleziono: {{ data.total | json }} </span>
      <span *ngIf="data.total === 1">kategorię</span>
      <span *ngIf="data.total > 1 && data.total < 5">kategorie</span>
      <span *ngIf="data.total >= 5">kategorii</span>
    </ng-container>
    <ng-template #zero>
      <span>nic nie odnaleziono.</span>
    </ng-template>
  </div>
  }
</div>
<table class="table __mat-elevation-z8">
  <tr>
    <!-- <th>Miesiąc</th> -->
    <th></th>
    <th *ngFor="let category of data?.categories">
      <span>{{ category }}</span>
    </th>
    <th class="summary">Ʃ</th>
  </tr>

  <tr *ngFor="let item of data?.months; let last = last">
    <td class="period">{{ item.period | noYear }}</td>

    <td *ngFor="let category of data?.categories">
      <span [ngClass]="{ last: last }">
        {{ getPriceByType(item.typePrices, category) }}
      </span>
    </td>
    <!-- summary column -->
    <td>{{ getSumByMonth(item.typePrices) }}</td>
  </tr>
  <!-- <tr>
    <td>SUMA</td>
    <td *ngFor="let category of data?.categories">
      <span>{{ category }}</span>
    </td>
  </tr> -->
</table>
} @else { NO-DATA }
