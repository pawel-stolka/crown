<mat-card
  [ngClass]="{
    'todo-layer': todo.status === Status.TO_DO,
    'done-layer': todo.status === Status.DONE,
    'in_progress-layer': todo.status === Status.IN_PROGRESS,
    disabled: todo.status === Status.CLOSED
  }"
>
  <ng-container *ngIf="!closed; then normal; else short"> </ng-container>
  <!-- <div class="card-header">
    <div class="title center">{{ todo.title }}</div>
    <mat-icon
      class="icon center"
      [ngClass]="{
        todo: todo.status === Status.TO_DO,
        done: todo.status === Status.DONE,
        in_progress: todo.status === Status.IN_PROGRESS
      }"
    >
      {{ getIconName(todo.status) }}
    </mat-icon>
  </div>
  <ng-container *ngIf="!closed; then normal; else short"> </ng-container> -->
</mat-card>

<ng-template #short>
  <div class="short">
    <!-- <div class="_title center"> -->
    <div class="title">{{ todo.title }}</div>
    <div>{{ todo.description }}</div>
    <!-- </div> -->
  </div>
</ng-template>

<ng-template #normal>
  <div class="card-header">
    <div>TODO: {{ todo.priority }}</div>

    <div class="title center">{{ todo.title }}</div>
    <button mat-mini-fab (click)="edit()">
      <mat-icon>edit</mat-icon>
    </button>
  </div>
  <div class="card-content">
    <div class="action">
      <button mat-stroked-button (click)="downgrade()">
        <mat-icon>arrow_back_ios</mat-icon>
      </button>
    </div>
    <div class="description" (click)="edit()">
      {{ todo.description }}
    </div>
    <div class="action">
      <button mat-stroked-button (click)="upgrade()">
        <mat-icon>arrow_forward_ios</mat-icon>
      </button>
    </div>
  </div>
</ng-template>
