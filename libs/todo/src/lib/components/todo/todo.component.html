<mat-card
  [ngClass]="{
    'todo-layer': todo.status === Status.TO_DO,
    'done-layer': todo.status === Status.DONE,
    'in_progress-layer': todo.status === Status.IN_PROGRESS,
    disabled: todo.status === Status.CLOSED
  }"
>
  <div class="card-header">
    <div class="title center">{{ todo.title }}</div>
    <mat-icon
      class="icon center"
      [ngClass]="{
        todo: todo.status === Status.TO_DO,
        done: todo.status === Status.DONE,
        in_progress: todo.status === Status.IN_PROGRESS
      }"
    >
      {{ getIconName(todo.status) }}
    </mat-icon>
  </div>
  <ng-container *ngIf="!closed; then normal; else short"> </ng-container>
</mat-card>

<ng-template #short>
  <div class="short">
    {{ todo.description }}
  </div>
</ng-template>

<ng-template #normal>
  <div class="card-content">
    <div class="action">
      <button mat-flat-button (click)="downgrade()">
        <mat-icon>arrow_back_ios</mat-icon>
      </button>
    </div>
    <div class="description">
      {{ todo.description }}
    </div>
    <div class="action">
      <button mat-flat-button (click)="upgrade()">
        <mat-icon>arrow_forward_ios</mat-icon>
      </button>
    </div>
  </div>
</ng-template>
