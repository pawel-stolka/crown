<div class="top">
  <div class="title">znane błędy</div>
  <ng-container *ngIf="isAdmin$ | async; then isAdmin; else reader">
  </ng-container>

  <ng-template #isAdmin>
    <div class="actions">
      <button mat-fab color="primary" (click)="add()">
        <mat-icon>add</mat-icon>
      </button>
    </div>

    <div class="divider">todo</div>

    <crown-todo-list
      *ngIf="todos$ | async as todos"
      [todos]="todos"
      (edit)="edit($event)"
      (update)="updateTodo($event)"
      (priority)="updatePriority($event)"
    ></crown-todo-list>

    <div class="divider">w trakcie</div>

    <crown-todo-list
      *ngIf="inProgress$ | async as inProgress"
      [todos]="inProgress"
      (edit)="edit($event)"
      (update)="updateTodo($event)"
      (priority)="updatePriority($event)"
    ></crown-todo-list>

    <div class="divider">gotowe</div>

    <crown-todo-list
      *ngIf="done$ | async as done"
      [todos]="done"
      (edit)="edit($event)"
      (update)="updateTodo($event)"
      (priority)="updatePriority($event)"
    ></crown-todo-list>
  </ng-template>

  <!-- ------------- -->
  <ng-template #reader>
    <div class="title">tylko od odczytu</div>

    <div class="divider">todo</div>
    <crown-todo-list
      *ngIf="todos$ | async as todos"
      [todos]="todos"
    ></crown-todo-list>

    <div class="divider">w trakcie</div>

    <crown-todo-list
      *ngIf="inProgress$ | async as inProgress"
      [todos]="inProgress"
    ></crown-todo-list>

    <div class="divider">gotowe</div>

    <crown-todo-list
      *ngIf="done$ | async as done"
      [todos]="done"
    ></crown-todo-list>
  </ng-template>
</div>

<div class="bottom">
  <ng-container *ngIf="closed$ | async as closed">
    <div class="divider">zamknięte</div>
    <crown-todo-list [closed]="true" [todos]="closed"></crown-todo-list>
  </ng-container>
</div>
